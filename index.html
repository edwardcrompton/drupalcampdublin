<!doctype html>
<html lang="en">	
<head>
	<meta charset="utf-8">
	<title>A foundation in Drupal development with Docker</title>
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css">
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<!-- ALL SLIDES GO HERE -->
        <!-- Each section element contains an individual slide -->
        <section>
          <h1>A foundation in Docker</h1>
          <p>Ed Crompton, Oxfam International</p>
          <img class="plain" src="images/logo.png" />
          <div>
            <small>Twitter: @ed_crompton</small>
            <br />
            <small>Drupal.org: eddie_c</small>
          </div>
        </section>

        <section class="left-align">
          <h2></h2>
          <p>Containerisation holds potential for easier Drupal development and deployment</p>
          <p>A barrier to using Docker is understanding containerisation concepts</p>
          <p>4 realisations about how Docker works</p>
        </section>

        <section class="left-align">
          <h2>What’s a container?</h2>
          <p>Docker utilises Linux ‘containers’.</p>
          <p>Redhat says:</p>
          <blockquote>
          "Linux containers are technologies that allow you to package and isolate applications with their entire runtime environment—all of the files necessary to run. This makes it easy to move the contained application between environments (dev, test, production, etc.) while retaining full functionality."</blockquote>
          <small>https://www.redhat.com/en/topics/containers</small>
        </section>

        <section class="left-align">
          <h2>Containers are not virtual machines</h2>
          <p>A primary component of 'containers' are PID namespaces in Linux.</p>
          <blockquote>"Because of namespaces, each docker container appears to have its own filesystem and network."</blockquote>
          <p>Containers are designed to run a process in an isolated, controlled environment and then exit.</p>
          <small>https://hackernoon.com/the-curious-case-of-pid-namespaces-1ce86b6bc900</small>
        </section>

        <section>
          <video data-autoplay data-src="videos/docker-1.ogv"></video>
        </section>
        
        <section>
          <video data-autoplay data-src="videos/docker-2.ogv"></video>
        </section>

        <section class="left-align">
          <h2>Realisation 1</h2>
          <p>Containers are ephemeral: The lifetime of a container is the same
          as the lifetime of the process within it.</p>
        </section>

        <section>
          <video data-autoplay data-src="videos/docker-3.ogv"></video>
        </section>

        <section class="left-align">
          <h2>Realisation 2</h2>
          <p>Separation of PID namespace is a primary feature of a container.
            It’s this that gives a process an isolated environment to run in.</p>
          <p>Containers also have isolated filesystems and isolated networks.</p>
        </section>

        <section>
          <video data-autoplay data-src="videos/docker-4.ogv"></video>
        </section>

        <section class="left-align">
          <h2>Realisation 3</h2>
          <p>Containers should only perform one role.</p>
          <p>Docker follows the UNIX philosophy: "Do one thing and do it well".</p>
        </section>

        <section class="left-align">
          <h2>Docker run</h2>
          <p>So far we’ve been using one command to run a container.</p>
          <pre><code>docker run ...</code></pre>
          <p>Books and tutorials often teach Docker using this command predominantly.</p>
          <p>But how can we run more complex multi-container systems?</p>
        </section>

        <section class="left-align">
          <h2>Realisation 4</h2>
          <p>Docker run is not an efficient way of working with multi-container
            systems.</p>
          <p>There are other tools.</p>
        </section>

        <section class="left-align">
          <h2>Controlling multiple Docker containers</h2>
          <p>docker-compose is the tool for this.</p>
          <p>docker-compose takes its orders from a docker-compose.yml file.</p>
        </section>

        <section>
          <img class="plain" src="images/screenshot-1.png" />
        </section>

        <section>
          <h2>Summary</h2>
          <ul>
            <li>Containers are ephemeral: The life time of a container is the
              same as that of the process within it.</li>
            <li>Containers are part of the host system but separate. They have
              separate process id namespaces and filesystems.</li>
            <li>Containers should perform one role well. They may sometimes run
              different processes, but always just perform one role.</li>
            <li>Use docker-compose to control multicontainer Docker containers
              and build something useful!</li>
          </ul>
        </section>

        <section>
          <h2>What next?</h2>
          <p>Prakhar Srivastav’s Beginner’s Tutorial: https://docker-curriculum.com/</p>
          <p>Socket Wench’s Talk at Drupal Con Dublin 2016 https://youtu.be/DevIohAnkDI</p>
          <p>Let’s chat about Xdebug and using networks with docker-compose.</p>
        </section>

			</div>
		</div>
		<script src="js/reveal.js"></script>
		<script>
			Reveal.initialize();
		</script>
	</body>
</html>